import {
  __commonJS
} from "./chunk-HKJ2B2AA.js";

// node_modules/highcharts/modules/textpath.js
var require_textpath = __commonJS({
  "node_modules/highcharts/modules/textpath.js"(exports, module) {
    !/**
    * Highcharts JS v11.4.7 (2024-08-14)
    *
    * (c) 2009-2024 Torstein Honsi
    *
    * License: www.highcharts.com/license
    */
    function(t) {
      "object" == typeof module && module.exports ? (t.default = t, module.exports = t) : "function" == typeof define && define.amd ? define("highcharts/modules/textpath-support", ["highcharts"], function(e) {
        return t(e), t.Highcharts = e, t;
      }) : t("undefined" != typeof Highcharts ? Highcharts : void 0);
    }(function(t) {
      "use strict";
      var e = t ? t._modules : {};
      function a(e2, a2, s, n) {
        e2.hasOwnProperty(a2) || (e2[a2] = n.apply(null, s), "function" == typeof CustomEvent && t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded", { detail: { path: a2, module: e2[a2] } })));
      }
      a(e, "Extensions/TextPath.js", [e["Core/Globals.js"], e["Core/Utilities.js"]], function(t2, e2) {
        let { deg2rad: a2 } = t2, { addEvent: s, merge: n, uniqueKey: h, defined: r, extend: o } = e2;
        function i(t3, e3) {
          e3 = n(true, { enabled: true, attributes: { dy: -5, startOffset: "50%", textAnchor: "middle" } }, e3);
          let a3 = this.renderer.url, i2 = this.text || this, l2 = i2.textPath, { attributes: d2, enabled: u } = e3;
          if (t3 = t3 || l2 && l2.path, l2 && l2.undo(), t3 && u) {
            let e4 = s(i2, "afterModifyTree", (e5) => {
              if (t3 && u) {
                let s2 = t3.attr("id");
                s2 || t3.attr("id", s2 = h());
                let n2 = { x: 0, y: 0 };
                r(d2.dx) && (n2.dx = d2.dx, delete d2.dx), r(d2.dy) && (n2.dy = d2.dy, delete d2.dy), i2.attr(n2), this.attr({ transform: "" }), this.box && (this.box = this.box.destroy());
                let l3 = e5.nodes.slice(0);
                e5.nodes.length = 0, e5.nodes[0] = { tagName: "textPath", attributes: o(d2, { "text-anchor": d2.textAnchor, href: `${a3}#${s2}` }), children: l3 };
              }
            });
            i2.textPath = { path: t3, undo: e4 };
          } else i2.attr({ dx: 0, dy: 0 }), delete i2.textPath;
          return this.added && (i2.textCache = "", this.renderer.buildText(i2)), this;
        }
        function l(t3) {
          var _a;
          let e3 = t3.bBox, s2 = (_a = this.element) == null ? void 0 : _a.querySelector("textPath");
          if (s2) {
            let t4 = [], { b: n2, h: h2 } = this.renderer.fontMetrics(this.element), r2 = h2 - n2, o2 = RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)', "g"), i2 = s2.innerHTML.replace(o2, "").split(/<tspan class="highcharts-br"[^>]*>/), l2 = i2.length, d2 = (t5, e4) => {
              let { x: h3, y: o3 } = e4, i3 = (s2.getRotationOfChar(t5) - 90) * a2, l3 = Math.cos(i3), d3 = Math.sin(i3);
              return [[h3 - r2 * l3, o3 - r2 * d3], [h3 + n2 * l3, o3 + n2 * d3]];
            };
            for (let e4 = 0, a3 = 0; a3 < l2; a3++) {
              let n3 = i2[a3].length;
              for (let h3 = 0; h3 < n3; h3 += 5) try {
                let n4 = e4 + h3 + a3, [r3, o3] = d2(n4, s2.getStartPositionOfChar(n4));
                0 === h3 ? (t4.push(o3), t4.push(r3)) : (0 === a3 && t4.unshift(o3), a3 === l2 - 1 && t4.push(r3));
              } catch (t5) {
                break;
              }
              e4 += n3 - 1;
              try {
                let n4 = e4 + a3, h3 = s2.getEndPositionOfChar(n4), [r3, o3] = d2(n4, h3);
                t4.unshift(o3), t4.unshift(r3);
              } catch (t5) {
                break;
              }
            }
            t4.length && t4.push(t4[0].slice()), e3.polygon = t4;
          }
          return e3;
        }
        function d(t3) {
          var _a;
          let e3 = t3.labelOptions, a3 = t3.point, s2 = e3[a3.formatPrefix + "TextPath"] || e3.textPath;
          s2 && !e3.useHTML && (this.setTextPath(((_a = a3.getDataLabelPath) == null ? void 0 : _a.call(a3, this)) || a3.graphic, s2), a3.dataLabelPath && !s2.enabled && (a3.dataLabelPath = a3.dataLabelPath.destroy()));
        }
        return { compose: function(t3) {
          s(t3, "afterGetBBox", l), s(t3, "beforeAddingDataLabel", d);
          let e3 = t3.prototype;
          e3.setTextPath || (e3.setTextPath = i);
        } };
      }), a(e, "masters/modules/textpath.src.js", [e["Core/Globals.js"], e["Extensions/TextPath.js"]], function(t2, e2) {
        return t2.TextPath = e2, t2.TextPath.compose(t2.SVGElement), t2;
      });
    });
  }
});
export default require_textpath();
//# sourceMappingURL=highcharts_modules_textpath__js.js.map
